##############################################################
# Input data with different triple size for (Seen dataset) for extended system (Flat)
# We will compare the evlaution scores for two model: the new model (flat),and the modified baseline.

################################################################
# Prepare files for (flat) model:
####################################################

#1- Extract predictions for each triple size
 python3 predFinderTriple.py -i <file-directory> -f tripleSize
file-directory is the directory where the file that we want to extract predictions from
tripleSize is the size of current evaluating triple size

##Example
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 1
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 2
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 3
$ python3 predFinderTriple.py -i ../preds/flat_tseen.pred -f 4
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 5
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 6
$ python3 predFinderTriple.py -i ../preds/flat_seen.pred -f 7

#2- run metrics.py to prepare files for Meteor, Ter

 python3 metrics.py -i referenceDirectory -d dataType -p directoryPred

dataType here is the size of triples, .i.e. its values are: triple1,triple2, triple3,
triple4, triple5, triple6, triple7

referenceDirectory, directoryPred: the both are in the same folder tripleX, which is generated by the script predFinderTriple.py automatically, where X={1,2,3,4,5,6,7}

##Example:
 
 python3 metrics.py -i triple1/ -d triple1 -p triple1/triple1_predictions.txt

 python3 metrics.py -i triple2/ -d triple2 -p triple2/triple2_predictions.txt

 python3 metrics.py -i triple3/ -d triple3 -p triple3/triple3_predictions.txt

 python3 metrics.py -i triple4/ -d triple4 -p triple4/triple4_predictions.txt

 python3 metrics.py -i triple5/ -d triple5 -p triple5/triple5_predictions.txt

 python3 metrics.py -i triple6/ -d triple6 -p triple6/triple6_predictions.txt

 python3 metrics.py -i triple7/ -d triple7 -p triple7/triple7_predictions.txt


#3- run the script (Xevaluat_metrics.sh) to get the evaluation scores for Bleu,Ter,Meteor
## For this step we put in each triple size folder the two scripts: the corresponding Xevaluat_metrics.sh, multi-bleu.perl e.g. triple1-> triple1_evaluat_metrics.sh, multi-bleu.perl with all reference files, predictions .etc
## Also, we assume that the folders of meteor and Ter, are in the same directory with the main folder (triplFlatSeen).

# Example
### in triple1 folder
 ./triple1_evaluat_metrics.sh > ../../tripleSeenScore/flattriple1_score.txt
### in triple2 folder
 ./triple2_evaluat_metrics.sh > ../../tripleSeenScore/flattriple2_score.txt
### in triple3 folder
 ./triple3_evaluat_metrics.sh > ../../tripleSeenScore/flattriple3_score.txt
### in triple4 folder
 ./triple4_evaluat_metrics.sh > ../../tripleSeenScore/flattriple4_score.txt
### in triple5 folder
 ./triple5_evaluat_metrics.sh > ../../tripleSeenScore/flattriple5_score.txt
### in triple6 folder
 ./triple6_evaluat_metrics.sh > ../../tripleSeenScore/flattriple6_score.txt
### in triple7 folder
 ./triple7_evaluat_metrics.sh > ../../tripleSeenScore/flattriple7_score.txt
