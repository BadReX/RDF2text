##############################################################

# Input data with different category name (Flat model)
# This folder prepare seen dataset of the model Flat to be evaluated according to  different DBPedia category name, where we choose five categories from seen dataset, which are: Astronaut,City,University,Food,SportsTeam

#1- Extract predictions for each category
# When we run the script (predFinderCategory.py) a folder for current category will be generated,inside of it the reference and predictions files.
$ python3 predFinderCategory.py -i <file-directory> -f categoryName

file-directory is the directory where the file we want to extract predictions from
categoryName, the name of current category we want to evaluate
#Example
 python3 predFinderCategory.py -i ../preds/flat_seen.pred -f Astronaut

 python3 predFinderCategory.py -i ../preds/flat_seen.pred -f City

 python3 predFinderCategory.py -i ../preds/flat_seen.pred -f University

 python3 predFinderCategory.py -i ../preds/flat_seen.pred -f Food

 python3 predFinderCategory.py -i ../preds/flat_seen.pred -f SportsTeam


#2- run metrics.py to prepare files for Meteor, Ter
# Where the output files for METEOR and TER will be located automatically in the corresponding folder of current evaluated category.

 python3 metrics.py -i referenceDirectory -d dataType -p directoryPred

dataType here is category name,i.e. it take the values: Astronaut, Food, SportsTeam, City, University.
referenceDirectory, directoryPred: the both are in the same folder triple1, which generated by the script predFinderTriple.py

##Example
python3 metrics.py -i Astronaut/ -d Astronaut -p Astronaut/Astronaut_predictions.txt

 python3 metrics.py -i University/ -d University -p University/University_predictions.txt

 python3 metrics.py -i Food/ -d Food -p Food/Food_predictions.txt

 python3 metrics.py -i SportsTeam/ -d SportsTeam -p SportsTeam/SportsTeam_predictions.txt

 python3 metrics.py -i City/ -d City -p City/City_predictions.txt


#3- run the script (Xevaluat_metrics.sh) to get the evaluation scores for Bleu,Ter,Meteor
## For this step we put in each category folder the two scripts: the corresponding (Xevaluat_metrics.sh), multi-bleu.perl e.g.in Astronaut-> evaluat_metrics.sh, multi-bleu.perl with all reference files, predictions .etc
## Also, we always assume that the folder of meteor and Ter in the same directory with (Category_Flat_Seen) .

# Example
## in Astronaut folder
 ./Astronaut_evaluat_metrics.sh > ../../Category_Seen_Score/flatAstronaut_score.txt
## in City folder
 ./City_evaluat_metrics.sh > ../../Category_Seen_Score/flatCity_score.txt
## in Food 
 ./Food_evaluat_metrics.sh > ../../Category_Seen_Score/flatFood_score.txt
## in SportTeam
 ./SportsTeam_evaluat_metrics.sh > ../../Category_Seen_Score/flatSportsTeam_score.txt
## in University
 ./University_evaluat_metrics.sh > ../../Category_Seen_Score/flatUniversity_score.txt
