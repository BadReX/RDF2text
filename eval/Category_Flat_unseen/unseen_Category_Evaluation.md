##############################################################

# Input data with different category name (Flat model)
# This folder prepare unseen dataset of the model Flat to be evaluated according to  different DBPedia category, where we choose five categories from unseen dataset, which are: (Athlete,Artist,Politician)

#1- Extract predictions for each category
# When we run the script (predFinderCategory.py) a folder for current category will be generated,inside of it the reference and predictions files.
$ python3 predFinderCategory.py -i <file-directory> -f categoryName

file-directory is the directory where the file we want to extract predictions from
categoryName, the name of current category we want to evaluate
#Commands:
 python3 predFinderCategory.py -i ../preds/flat_unseen.pred -f Athlete

 python3 predFinderCategory.py -i ../preds/flat_unseen.pred -f Artist

 python3 predFinderCategory.py -i ../preds/flat_unseen.pred -f Politician



#2- run metrics.py to prepare files for Meteor, Ter
# Where the output files for METEOR and TER will be located automatically in the corresponding folder of current evaluated category.

 python3 metrics.py -i referenceDirectory -d dataType -p directoryPred

dataType here is category name,i.e. it take the values: (Athlete,Artist,Politician)
referenceDirectory, directoryPred: the both are in the same folder triple1, which generated by the script predFinderCategory.py

## Commands:
python3 metrics.py -i Athlete/ -d Athlete -p Athlete/Athlete_predictions.txt

 python3 metrics.py -i Artist/ -d Artist -p Artist/Artist_predictions.txt

 python3 metrics.py -i Politician/ -d Politician -p Politician/Politician_predictions.txt
# OR run the script (run.sh) to execute the two previous steps.
 
#3- run the script (Xevaluat_metrics.sh) to get the evaluation scores for Bleu,Ter,Meteor
## For this step we put in each category folder the two scripts: the corresponding (Xevaluat_metrics.sh), multi-bleu.perl e.g.in Athlete-> Athlete_evaluat_metrics.sh, multi-bleu.perl with all reference files, predictions .etc
## Also, we always assume that the folder of meteor and Ter in the same directory with (Category_Flat_unseen) .

# commands
## in Athlete folder
 ./Athlete_evaluat_metrics.sh > ../../Category_unseen_Score/flat_Athlete_score.txt
## in Artist folder
 ./Artist_evaluat_metrics.sh > ../../Category_unseen_Score/flat_Artist_score.txt
## in Politician 
 ./Politician_evaluat_metrics.sh > ../../Category_unseen_Score/flat_Politician_score.txt

